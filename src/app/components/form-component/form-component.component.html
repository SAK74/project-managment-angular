<h3>{{ translate(title) }}</h3>
<form [formGroup]="userForm" (submit)="handleSubmit(userForm.value)">
  <mat-form-field *ngIf="type === 'signup' || type === 'edit'">
    <mat-label>{{ translate("Name") }}</mat-label>
    <input matInput formControlName="name" />
    <mat-error *ngIf="name?.hasError">{{ getErrorMessage("name") }}</mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Login</mat-label>
    <input matInput formControlName="login" />
    <mat-error *ngIf="login?.hasError">{{
      getErrorMessage("login")
    }}</mat-error>
  </mat-form-field>

  <mat-form-field [style.marginBottom.px]="20">
    <mat-label>{{ translate("Password") }}</mat-label>
    <input
      matInput
      formControlName="password"
      [type]="passwordType === 'visible' ? 'text' : 'password'"
    />
    <button mat-icon-button matSuffix (click)="changePasswordType()">
      <mat-icon>{{
        passwordType === "hidden" ? "visibility_off" : "visibility"
      }}</mat-icon>
    </button>
    <mat-error *ngIf="password?.hasError">{{
      getErrorMessage("password")
    }}</mat-error>
  </mat-form-field>

  <div class="control">
    <button
      mat-raised-button
      color="primary"
      [disabled]="userForm.invalid"
      type="submit"
    >
      {{ translate("Submit") }}
    </button>
    <button
      mat-raised-button
      color="accent"
      [disabled]="userForm.pristine"
      (click)="clear()"
    >
      {{ translate("Clear") }}
    </button>
  </div>
</form>
